{"version":3,"sources":["webpack:///./src/components/Analytics/GoogleAnalytics/GoogleAnalytics.tsx"],"names":["GoogleAnalytics","componentDidMount","isSSR","this","initializeVendor","initializePageView","window","ga","script","document","createElement","type","src","body","appendChild","console","log","props","trackingId","location","pathname","info","setTimeout","bind","PAUSE_TIME","render","Component"],"mappings":"uMAgBqBA,E,wLAIZC,kBAAP,WACOC,gBACHC,KAAKC,mBACLD,KAAKE,uB,EAIDD,iBAAR,WACE,IAAKE,OAAOC,GAAI,CACd,IAAMC,EAAcC,SAASC,cAAc,UAC3CF,EAAOG,KAAO,kBACdH,EAAOI,IAAM,+CACbH,SAASI,KAAKC,YAAYN,GAC1BO,QAAQC,IAAI,qF,EAIRX,mBAAR,gBAC2B,IAAdC,OAAOC,IAAsBD,OAAOC,IAC7CQ,QAAQC,IAAI,0EACZV,OAAOC,GAAG,SAAUJ,KAAKc,MAAMC,WAAY,QAC3CZ,OAAOC,GAAG,OAAQ,WAAYD,OAAOa,SAASC,YAE9CL,QAAQM,KAAR,8FAGAC,WAAWnB,KAAKE,mBAAmBkB,KAAKpB,MAAOH,EAAgBwB,c,EAI5DC,OAAP,WAAwB,OAAO,M,GAlCYC,aAAxB1B,EAEKwB,WAAqB","file":"components-Analytics-GoogleAnalytics-GoogleAnalytics-9c2fba175907d153211f.js","sourcesContent":["import { Component } from 'react';\n\nimport { isSSR } from '../../../common/helper';\n\ndeclare global {\n  interface Window {\n    ga: any;\n  }\n}\n\ninterface IProperty {\n  trackingId: string;\n}\n\ninterface IState {}\n\nexport default class GoogleAnalytics extends Component<IProperty, IState> {\n\n  private static readonly PAUSE_TIME: number = 1000; // 1000ms 1s\n\n  public componentDidMount(): void {\n    if (!isSSR()) {\n      this.initializeVendor();\n      this.initializePageView();\n    }\n  }\n\n  private initializeVendor(): void {\n    if (!window.ga) {\n      const script: any = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = '/resources/vendor/google-analytics/ga.min.js';\n      document.body.appendChild(script);\n      console.log('[LDM] Analytics_GoogleAnalytics_GoogleAnalyticsComponent: has been initialized.');\n    } \n  }\n\n  private initializePageView(): void {\n    if (typeof window.ga !== 'undefined' && window.ga) {\n      console.log('[LDM] Analytics_GoogleAnalytics_GoogleAnalyticsComponent: GA detected!');\n      window.ga('create', this.props.trackingId, 'auto');\n      window.ga('send', 'pageview', window.location.pathname);\n    } else {\n      console.info(`[LDM] Analytics_GoogleAnalytics_GoogleAnalyticsComponent: Waiting for GA to load properly.`);\n      // We used setTimeout in order to have a pause time \n      // before calling again the initializePageView.\n      setTimeout(this.initializePageView.bind(this), GoogleAnalytics.PAUSE_TIME);\n    } \n  }\n\n  public render(): null { return null; }\n}\n"],"sourceRoot":""}