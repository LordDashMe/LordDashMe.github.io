{"version":3,"sources":["webpack:///./src/components/Microsites/COVID19/SuggestedVideo/SuggestedVideo.tsx","webpack:///./src/components/Microsites/COVID19/SuggestedVideo/SuggestedVideo.module.scss"],"names":["YoutubeIframe","loadable","fallback","SuggestedVideo","properties","state","suggestedVideo","id","videoId","order","active","componentDidMount","isSSR","this","fetchPHCOVID19TrackerSuggestedVideoOnFireStore","then","Firestore","default","clearInstance","initialize","getInstance","collection","where","orderBy","get","querySnapshot","docs","map","doc","document","data","video_id","setState","getSuggestedVideo","key","className","style","elementId","height","width","render","Component","module","exports"],"mappings":"4UAKA,IAAMA,EAAgBC,YAAS,CAAD,oLAAC,kBAAM,mCAAP,sPAA2E,CAAEC,SAAU,OAiBhGC,E,YAEnB,WAAmBC,GAAiB,aAClC,cAAMA,IAAN,MAEKC,MAAQ,CACXC,eAAgB,CACd,CACEC,GAAI,IACJC,QAAS,GACTC,MAAO,EACPC,QAAQ,KAToB,E,kCAe7BC,kBAAP,WACOC,eACHC,KAAKC,kD,EAIDA,+CAAR,WAA+D,WAE7D,iCAAiGC,MAAK,SAACC,GAErGA,EAAUC,QAAQC,gBAClBF,EAAUC,QAAQE,aAClBH,EAAUC,QAAQG,cACfC,WAAW,sCACXC,MAAM,SAAU,MAAM,GACtBC,QAAQ,QAAS,QACjBC,MACAT,MAAK,SAACU,GAEL,IAAMnB,EAAsBmB,EAAcC,KAAKC,KAAI,SAACC,GAClD,IAAMC,EAAgBD,EAAIE,OAC1B,MAAO,CACLvB,GAAIqB,EAAIrB,GACRC,QAASqB,EAASE,SAClBtB,MAAOoB,EAASpB,MAChBC,OAAQmB,EAASnB,WAIrB,EAAKsB,SAAS,CACZ1B,eAAgBA,W,EAMlB2B,kBAAR,WAEE,OAAKrB,cAoBE,KAlBEC,KAAKR,MAAMC,eAAeqB,KAAI,SAACrB,GAEpC,MAA+B,KAA3BA,EAAeE,QACT,yBAAK0B,IAAK5B,EAAeC,GAAI4B,UAAWC,IAAK,UAIrD,yBAAKF,IAAK5B,EAAeC,GAAI4B,UAAWC,IAAK,SAC3C,kBAACpC,EAAD,CACEqC,UAAW,sCAAwC/B,EAAeE,QAClEA,QAASF,EAAeE,QACxB8B,OAAQ,OACRC,MAAO,c,EASZC,OAAP,WACE,OACE,yBAAKjC,GAAG,+CAA+C4B,UAAWC,IAAK,WACrE,wBAAID,UAAWC,IAAK,OAApB,mBACCvB,KAAKoB,sB,GAlF8BQ,c,qBCrB5CC,EAAOC,QAAU,CAAC,UAAY,0CAA0C,MAAQ,sCAAsC,QAAU","file":"components-Microsites-COVID19-SuggestedVideo-SuggestedVideo-c5268a3b83d76981cb49.js","sourcesContent":["import React, { Component } from 'react';\nimport loadable from '@loadable/component';\n\nimport { isSSR } from '../../../../common/helper';\n\nconst YoutubeIframe = loadable(() => import('../../../../components/VideoPlayer/Youtube/YoutubeIframe'), { fallback: null });\n\nimport style from './SuggestedVideo.module.scss';\n\ninterface IProperty {}\n\ninterface IState {\n  suggestedVideo: ISuggestedVideo[];\n}\n\ninterface ISuggestedVideo {\n  id: string;\n  videoId: string;\n  order: number;\n  active: boolean;\n}\n\nexport default class SuggestedVideo extends Component<IProperty, IState> {\n\n  public constructor(properties: any) {\n    super(properties);\n\n    this.state = {\n      suggestedVideo: [\n        {\n          id: '1',\n          videoId: '',\n          order: 0,\n          active: true\n        }\n      ]\n    };\n  }\n\n  public componentDidMount(): void {\n    if (!isSSR()) {\n      this.fetchPHCOVID19TrackerSuggestedVideoOnFireStore(); \n    }\n  }\n\n  private fetchPHCOVID19TrackerSuggestedVideoOnFireStore(): void {\n    \n    import(/* webpackChunkName: \"Firestore\" */ '../../../../components/Database/Firebase/Firestore').then((Firestore) => {\n\n      Firestore.default.clearInstance();\n      Firestore.default.initialize();\n      Firestore.default.getInstance()\n        .collection('ph-covid19-tracker-suggested-video')\n        .where('active', '==', true)\n        .orderBy('order', 'desc')\n        .get()\n        .then((querySnapshot: any): void => { \n          \n          const suggestedVideo: any = querySnapshot.docs.map((doc: any): ISuggestedVideo => {\n            const document: any = doc.data();\n            return {\n              id: doc.id,\n              videoId: document.video_id,\n              order: document.order,\n              active: document.active\n            };\n          });\n\n          this.setState({\n            suggestedVideo: suggestedVideo\n          });\n        });\n    });\n  }\n\n  private getSuggestedVideo(): JSX.Element[] | null {\n\n    if (!isSSR()) {\n      \n      return this.state.suggestedVideo.map((suggestedVideo: ISuggestedVideo): JSX.Element => {\n\n        if (suggestedVideo.videoId === '') {\n          return (<div key={suggestedVideo.id} className={style['content']}></div>);\n        }\n\n        return(\n          <div key={suggestedVideo.id} className={style['content']}>\n            <YoutubeIframe \n              elementId={'ph-covid19-tracker-suggested-video-' + suggestedVideo.videoId} \n              videoId={suggestedVideo.videoId} \n              height={'100%'} \n              width={'100%'} />\n          </div>\n        );\n      });\n    }\n    \n    return null;\n  }\n\n  public render(): JSX.Element {\n    return (\n      <div id=\"ph-covid19-tracker-suggested-video-component\" className={style['container']}>\n        <h2 className={style['title']}>SUGGESTED VIDEO</h2>\n        {this.getSuggestedVideo()}\n      </div>\n    );\n  } \n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SuggestedVideo-module--container--1FVC0\",\"title\":\"SuggestedVideo-module--title--2OgW_\",\"content\":\"SuggestedVideo-module--content--spW_E\"};"],"sourceRoot":""}