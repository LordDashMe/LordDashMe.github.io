{"version":3,"sources":["webpack:///./src/components/Analytics/GoogleAnalytics/GoogleAnalytics.tsx"],"names":["GoogleAnalytics","componentDidMount","isSSR","this","initializeVendor","initializePageView","window","ga","script","document","createElement","type","src","body","appendChild","console","log","props","trackingId","location","pathname","info","setTimeout","bind","WAITING_TIME","render","Component"],"mappings":"uMAkBqBA,E,wLAIZC,kBAAP,WACQC,gBACJC,KAAKC,mBACLD,KAAKE,uB,EAIDD,iBAAR,WACE,IAAME,OAAOC,GAAI,CACf,IAAIC,EAASC,SAASC,cAAc,UACpCF,EAAOG,KAAO,kBACdH,EAAOI,IAAM,+CACbH,SAASI,KAAKC,YAAYN,GAC1BO,QAAQC,IAAI,sF,EAIRX,mBAAR,WAEoB,oBAAPE,IAAsBA,IAC/BQ,QAAQC,IAAI,2EACZT,GAAG,SAAUJ,KAAKc,MAAMC,WAAY,QACpCX,GAAG,OAAQ,WAAYD,OAAOa,SAASC,YAEvCL,QAAQM,KAAR,+FAGAC,WAAWnB,KAAKE,mBAAmBkB,KAAKpB,MAAOH,EAAgBwB,gB,EAI5DC,OAAP,WACE,OAAO,M,GApCkCC,aAAxB1B,EAEKwB,aAAuB","file":"components-Analytics-GoogleAnalytics-GoogleAnalytics-cfde4eba00edf64f0606.js","sourcesContent":["import React, { Component } from 'react';\n\nimport { isSSR } from '../../../common/helper';\n\ndeclare global {\n  interface Window {\n    ga: any;\n  }\n}\n\ndeclare const ga: Function;\n\ninterface IProperty {\n  trackingId: string;\n}\n\ninterface IState {}\n\nexport default class GoogleAnalytics extends Component<IProperty, IState> {\n\n  private static readonly WAITING_TIME: number = 1000;\n\n  public componentDidMount(): void {\n    if (! isSSR()) {\n      this.initializeVendor();\n      this.initializePageView();\n    }\n  }\n\n  private initializeVendor(): void {\n    if (! window.ga) {\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = '/resources/vendor/google-analytics/ga.min.js';\n      document.body.appendChild(script);\n      console.log('[LDM] Analytics_GoogleAnalytics_GoogleAnalytics_Component: has been initialized.');\n    } \n  }\n\n  private initializePageView(): void {\n    \n    if (typeof ga !== 'undefined' && ga) {\n      console.log('[LDM] Analytics_GoogleAnalytics_GoogleAnalytics_Component: GA detected!');\n      ga('create', this.props.trackingId, 'auto');\n      ga('send', 'pageview', window.location.pathname);\n    } else {\n      console.info(`[LDM] Analytics_GoogleAnalytics_GoogleAnalytics_Component: Waiting for GA to load properly.`);\n      // We used setTimeout in order to have a pause time \n      // before calling again the initializePageView.\n      setTimeout(this.initializePageView.bind(this), GoogleAnalytics.WAITING_TIME);\n    } \n  }\n\n  public render(): null {\n    return null;\n  }\n}\n"],"sourceRoot":""}