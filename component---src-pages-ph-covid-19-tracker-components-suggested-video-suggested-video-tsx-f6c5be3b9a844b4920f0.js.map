{"version":3,"sources":["webpack:///./src/pages/ph-covid19-tracker/components/SuggestedVideo/SuggestedVideo.tsx"],"names":["Youtube","loadable","fallback","loadableFallbackTemplate","SuggestedVideo","properties","state","suggestedVideo","componentDidMount","isSSR","this","fetchProjectsOnFireStore","Firestore","clearInstance","initialize","getInstance","collection","where","get","then","querySnapshot","docs","map","doc","document","data","id","videoId","video_id","setState","getSuggestedVideo","key","elementId","height","width","render","className","style","Component"],"mappings":"2VAOA,IAAMA,EAAUC,YAAS,CAAD,8KAAC,kBAAM,mCAAP,sPAAqE,CAAEC,SAAUC,YAAyB,+BAe7GC,E,YAEnB,WAAmBC,GAAiB,aAClC,cAAMA,IAAN,MAEKC,MAAQ,CACXC,eAAgB,IAJgB,E,kCAQ7BC,kBAAP,WACQC,eACJC,KAAKC,4B,EAIDA,yBAAR,WAAyC,WAEvCC,IAAUC,gBACVD,IAAUE,aACVF,IAAUG,cACPC,WAAW,sCACXC,MAAM,SAAU,MAAM,GACtBC,MACAC,MAAK,SAACC,GAEL,IAAMb,EAAiBa,EAAcC,KAAKC,KAAI,SAACC,GAC7C,IAAMC,EAAWD,EAAIE,OACrB,MAAO,CACLC,GAAIH,EAAIG,GACRC,QAASH,EAASI,aAItB,EAAKC,SAAS,CACZtB,eAAgBA,Q,EAKhBuB,kBAAR,WACE,OAAOpB,KAAKJ,MAAMC,eAAee,KAAI,SAACf,GACpC,OACE,kBAACP,EAAD,CAAS+B,IAAKxB,EAAemB,GAAIM,UAAW,kBAAmBL,QAASpB,EAAeoB,QAASM,OAAQ,OAAQC,MAAO,a,EAKtHC,OAAP,WACE,OACE,yBAAKT,GAAG,+CAA+CU,UAAWC,IAAK,WACrE,wBAAID,UAAWC,IAAK,OAApB,mBACA,yBAAKD,UAAWC,IAAK,SAClB3B,KAAKoB,uB,GArD4BQ","file":"component---src-pages-ph-covid-19-tracker-components-suggested-video-suggested-video-tsx-f6c5be3b9a844b4920f0.js","sourcesContent":["import React, { Component } from 'react';\nimport loadable from '@loadable/component';\n\nimport { isSSR, loadableFallbackTemplate } from '../../../../common/helper';\n\nimport Firestore from '../../../../components/Database/Firebase/Firestore';\n\nconst Youtube = loadable(() => import('../../../../components/VideoPlayer/Youtube/Youtube'), { fallback: loadableFallbackTemplate(`#animate-number-component`) });\n\nimport style from './SuggestedVideo.module.scss';\n\ninterface IProperty {}\n\ninterface IState {\n  suggestedVideo: ISuggestedVideo[];\n}\n\ninterface ISuggestedVideo {\n  id: string;\n  videoId: string;\n}\n\nexport default class SuggestedVideo extends Component<IProperty, IState> {\n\n  public constructor(properties: any) {\n    super(properties);\n\n    this.state = {\n      suggestedVideo: []\n    };\n  }\n\n  public componentDidMount(): void {\n    if (! isSSR()) {\n      this.fetchProjectsOnFireStore(); \n    }\n  }\n\n  private fetchProjectsOnFireStore(): void {\n    \n    Firestore.clearInstance();\n    Firestore.initialize();\n    Firestore.getInstance()\n      .collection('ph-covid19-tracker-suggested-video')\n      .where('active', '==', true)\n      .get()\n      .then((querySnapshot: any): void => { \n        \n        const suggestedVideo = querySnapshot.docs.map((doc: any): ISuggestedVideo => {\n          const document = doc.data();\n          return {\n            id: doc.id,\n            videoId: document.video_id\n          };\n        });\n\n        this.setState({\n          suggestedVideo: suggestedVideo\n        });\n      });\n  }\n\n  private getSuggestedVideo(): JSX.Element[] {\n    return this.state.suggestedVideo.map((suggestedVideo: ISuggestedVideo): JSX.Element => {\n      return(\n        <Youtube key={suggestedVideo.id} elementId={'suggested-video'} videoId={suggestedVideo.videoId} height={'100%'} width={'100%'} />\n      );\n    });\n  }\n\n  public render(): JSX.Element {\n    return (\n      <div id=\"ph-covid19-tracker-suggested-video-component\" className={style['container']}>\n        <h2 className={style['title']}>SUGGESTED VIDEO</h2>\n        <div className={style['content']}>\n          {this.getSuggestedVideo()}\n        </div>\n      </div>\n    );\n  } \n}\n"],"sourceRoot":""}